<!DOCTYPE html>
<html lang="zh-tw">
<title>V-if 注意資料載入的時間點 | Nigel Blog</title>
<meta charset="utf-8">
<meta name="generator" content="Hugo 0.58.3" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="canonical" href="https://Nigel-wei-zhe.github.io/posts/v-if-%E6%B3%A8%E6%84%8F%E8%B3%87%E6%96%99%E8%BC%89%E5%85%A5%E7%9A%84%E6%99%82%E9%96%93%E9%BB%9E/">
<link rel="alternate" type="application/rss+xml" href="" title="Nigel Blog">
<link rel="stylesheet" href="https://Nigel-wei-zhe.github.io/css/theme.css">
<link rel="stylesheet" href="https://Nigel-wei-zhe.github.io/css/classes.css">

<header class="dark">
  <h2><a href="https://Nigel-wei-zhe.github.io/">Nigel Blog</a></h2>
  <nav>
    
  </nav>
</header>

<article>
  <header>
    <h1><a href="https://Nigel-wei-zhe.github.io/posts/v-if-%E6%B3%A8%E6%84%8F%E8%B3%87%E6%96%99%E8%BC%89%E5%85%A5%E7%9A%84%E6%99%82%E9%96%93%E9%BB%9E/">V-if 注意資料載入的時間點</a></h1>
    <p class="meta"><time datetime="2019-10-14T16:28:40&#43;08:00">October 14, 2019</time></p>
  </header>
  

<h2 id="狀況">#狀況</h2>

<p>Html:</p>

<pre><code>&lt;div id=&quot;app&quot;&gt;
    &lt;h1 v-if=&quot;testData.array.length &gt; 0&quot;&gt; 如果陣列有值顯示出來 &lt;/h1&gt;
&lt;/div&gt;
</code></pre>

<p>Js:</p>

<pre><code>new Vue ({
  el: '#app',
  data: {
    testData: ''
  },
  created () {
    const vm = this
    vm.testData = {
      testArray: [
        {
          msg: 'hi'
        }
      ]
    }
  }
})
</code></pre>

<p>這時候去看console 會報錯</p>

<pre><code>TypeError: Cannot read property 'length' of undefined
</code></pre>

<p>就我的理解應該是一開始掛載 data 時，屬性建立時還沒有把 testArray 掛上去，當然也無法使用length</p>

<h2 id="解決辦法">#解決辦法</h2>

<pre><code>&lt;div id=&quot;app&quot;&gt;
    &lt;h1 v-if=&quot;testData.testArray &amp;&amp; testData.testArray.length &gt; 0&quot;&gt; 如果陣列有值顯示出來 &lt;/h1&gt;
&lt;/div&gt;
</code></pre>

<p>一開始就先檢查一次值是否存在，再執行後續動作</p>

<p>因為有接觸過一些專案，一開始我把判斷式都先刻好，但未注意到資料載入時間，有些可能是還需要透過API去後端拿資料
這樣可能就會造成一開始在掛載屬性報錯，所以要先了解先後順序~~</p>

</article>



</html>
