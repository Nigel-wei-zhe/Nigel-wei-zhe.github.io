<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>NodeJs on Nigel Blog</title>
    <link>https://Nigel-wei-zhe.github.io/tags/nodejs/</link>
    <description>Recent content in NodeJs on Nigel Blog</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh-tw</language>
    <lastBuildDate>Fri, 08 Nov 2019 10:09:08 +0800</lastBuildDate>
    
	<atom:link href="https://Nigel-wei-zhe.github.io/tags/nodejs/index.xml" rel="self" type="application/rss+xml" />
    
    
    <item>
      <title>Unable to retrieve a connection&#39;s remote IP address under IISNode</title>
      <link>https://Nigel-wei-zhe.github.io/post/unable-to-retrieve-a-connections-remote-ip-address-under-iisnode/</link>
      <pubDate>Fri, 08 Nov 2019 10:09:08 +0800</pubDate>
      
      <guid>https://Nigel-wei-zhe.github.io/post/unable-to-retrieve-a-connections-remote-ip-address-under-iisnode/</guid>
      <description>狀況 在 IIS 底下安裝 IISNode 模組，並在後端架設一個 Node.exe 要在 Node.exe 上獲取遠端連接的IP位址會失敗。 因為 IISNode 像是一個 reverse proxy 多個源頭進來，但 Node.exe 只會看到一個位址 就是 IISNode 所有的 client 連進來都看不到。 另外 IISNode 與 Node.exe 之間的連接是走命名的方式，不是走 TCP，所以在 Node.exe 無法取到 IP address
解決 在 IISNode 的 web.config 上添加
&amp;lt;configuration&amp;gt; &amp;lt;system.webServer&amp;gt; &amp;lt;!-- ... --&amp;gt; &amp;lt;iisnode enableXFF=&amp;quot;true&amp;quot; /&amp;gt; &amp;lt;/system.webServer&amp;gt; &amp;lt;/configuration&amp;gt;  這樣 client 連進來 IISNode 要拋給 Node.exe 就會添加 一個 X-Forwarded-For request header 把外部進來 IP　再傳遞下去
const http = require(&#39;http&#39;) http.createServer(function (req, res) { const xff = req.</description>
    </item>
    
    <item>
      <title>Vee-Validate v3.0.11</title>
      <link>https://Nigel-wei-zhe.github.io/post/veevalidate/</link>
      <pubDate>Tue, 29 Oct 2019 16:11:36 +0800</pubDate>
      
      <guid>https://Nigel-wei-zhe.github.io/post/veevalidate/</guid>
      <description>介紹  利用Vue.js基礎模板來驗證表單的模組，內建一些驗證規則，也可自行新增
 設置 安裝:
 npm
 npm install vee-validate --save   CDN
 &amp;lt;!-- jsdelivr cdn --&amp;gt; &amp;lt;script src=&amp;quot;https://cdn.jsdelivr.net/npm/vee-validate@latest/dist/vee-validate.js&amp;quot;&amp;gt;&amp;lt;/script&amp;gt; &amp;lt;!-- unpkg --&amp;gt; &amp;lt;script src=&amp;quot;https://unpkg.com/vee-validate@latest&amp;quot;&amp;gt;&amp;lt;/script&amp;gt;  套用:
 所有規則套用中文訊息
 import { ValidationProvider, ValidationObserver, extend } from &#39;vee-validate&#39; import * as rules from &#39;vee-validate/dist/rules&#39; import tw from &#39;vee-validate/dist/locale/zh_TW&#39; for (let rule in rules) { extend(rule, { ...rules[rule], // add the rule message: tw.messages[rule] // 把 message 加進去並中文化 }) } extend(&#39;telRegExp&#39;, { validate: value =&amp;gt; { const reg = /^09\d{8}$/ return reg.</description>
    </item>
    
    <item>
      <title>multer</title>
      <link>https://Nigel-wei-zhe.github.io/post/multer/</link>
      <pubDate>Thu, 24 Oct 2019 16:08:57 +0800</pubDate>
      
      <guid>https://Nigel-wei-zhe.github.io/post/multer/</guid>
      <description>介紹  Multer 是一個 node.js 的中間件，&amp;rdquo;只&amp;rdquo;用於處理 multipart/form-data 類型的數據，主要用於上傳
 安裝:
npm install --save multer  參數 req.file 的屬性    Key Description Note     fieldname 表單上面的名稱    originalname 電腦上顯示的檔案名稱    encoding 編碼    mimetype 文件的mime 類型    size 文件大小 (位元組)    destination 路徑 DiskStorage   filename 保存在 destination 的名稱 DiskStorage   path 完整路徑 DiskStorage   buffer 存放檔案的內存 MemoryStorage    multer(opts) 的 opts    Key Description     dest or storage 存放位置   fileFilter 過濾 (函式)   limits 限制數據   preservePath 保存完整文件路徑     storage</description>
    </item>
    
    <item>
      <title>Build Express</title>
      <link>https://Nigel-wei-zhe.github.io/post/express%E5%BB%BA%E7%BD%AE/</link>
      <pubDate>Wed, 16 Oct 2019 14:12:25 +0800</pubDate>
      
      <guid>https://Nigel-wei-zhe.github.io/post/express%E5%BB%BA%E7%BD%AE/</guid>
      <description>#介紹 express是建立在node.js的http模組上，另外包裝，並提供 一些中介。
不免俗 Hello world 範例:
const express = require(&#39;express&#39;) const app = express() app.get(`/`, function (req, res) { res.send(`Hello World!`) }) app.listen(3000, function () { console.log(`Example app listening on port 3000!`) })  或者 可以直接用產生器
全域安裝
npm install express-generator -g  裝完透過
express -h  可以看到
Usage: express [options][dir] Options: -h, --help output usage information --version output the version number -e, --ejs add ejs engine support --hbs add handlebars engine support --pug add pug engine support -H, --hogan add hogan.</description>
    </item>
    
  </channel>
</rss>